(this["webpackJsonpzh-tw.2021.climate.re10x10.signup"]=this["webpackJsonpzh-tw.2021.climate.re10x10.signup"]||[]).push([[0],{14:function(o,e,a){"use strict";a.r(e);a(5),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(6);var t=a(7),n=(a(8),window),i=n.$,c=(n.dataLayer,n.currency,a(13));i(document).ready((function(){console.log("ready!"),r(),function(){var o=["me.com","outlook.com","netvigator.com","cloud.com","live.hk","msn.com","gmail.com","hotmail.com","ymail.com","yahoo.com","yahoo.com.tw","yahoo.com.hk"],e=["com","net","org"];i("#email").on("blur",(function(){console.log(i("#email").val()),c.run({email:i("#email").val(),domains:o,topLevelDomains:e,suggested:function(o){i(".email-suggestion").remove(),i('<div class="email-suggestion">\u60a8\u60f3\u8f38\u5165\u7684\u662f <strong id="emailSuggestion">'.concat(o.full,"</strong> \u55ce\uff1f</div>")).insertAfter("#email"),i(".email-suggestion").click((function(){i("#email").val(i("#emailSuggestion").html()),i(".email-suggestion").remove()}))},empty:function(){}})}))}(),function(){var o=function(){var o="FRESH";o=2===window.pageJson.pageNumber?"SUCC":"FRESH";return o}();"FRESH"===o?i(".page-2").hide():"SUCC"===o&&(i(".page-1").hide(),i(".page-2").show(),i("section").hide(),i("#home").show());i(".loading-cover").fadeOut()}()}));var r=function(){console.log("init form"),i("#architecture-contact-button").click((function(){var o=this,e=function(){var o=!0;return i("#architecturecontactform input[type=text]").each((function(e){0==e||1==e?null==i(this).val()||""==i(this).val()?(i("#architecturecontactform").find("input:eq("+e+")").addClass("required-error"),o=!1):i("#architecturecontactform").find("input:eq("+e+")").removeClass("required-error"):2==e&&(/(.+)@(.+){2,}\.(.+){2,}/.test(i(this).val())?i("#architecturecontactform").find("input:eq("+e+")").removeClass("required-error"):(i("#architecturecontactform").find("input:eq("+e+")").addClass("required-error"),o=!1))})),o}();if(console.log(e),e){console.log("form passed"),i('#mc-form [name="Email"]').val(i("#email").val()),i('#mc-form [name="LastName"]').val(i("#last-name").val()),i('#mc-form [name="FirstName"]').val(i("#first-name").val()),i('#mc-form [name="MobilePhone"]').val(i("#mobile").val()),i('#mc-form [name="OptIn"]').val(i("#optin").prop("checked")),i('#mc-form [name="Birthdate"]').val(t(i("#birth-year").val()).format("YYYY-MM-DD")),i('#mc-form [name="CampaignData1__c"]').val(i("#campaign-data-1").val()),i('#mc-form [name="CampaignData2__c"]').val(i("#campaign-data-2").val());var a=new FormData;return Object.keys(i("#mc-form input")).forEach((function(o){var e=i("#mc-form input")[o],t=null;t="checkbox"===e.type?i("#optin").prop("checked"):e.value,a.append(e.name,t),console.log("use",e.name,t)})),i(".loading-cover").fadeIn(),fetch(i("#mc-form").attr("action"),{method:"POST",body:a}).then((function(o){if(i(".loading-cover").fadeOut(),o.ok)return o.json();throw{ok:o.ok,status:o.status,statusText:o.statusText,type:o.type}})).then((function(o){o&&(console.log("mc form posted"),console.log("response",o),window.pageJson.pageNumber=2,i(".page-1").hide(),i(".page-2").show())})).catch((function(e){console.log(e),o.formLoading=!1}))}}))};"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(o){o.unregister()}))},4:function(o,e,a){o.exports=a(14)},5:function(o,e,a){},6:function(o,e,a){}},[[4,1,2]]]);
//# sourceMappingURL=main.4a5be336.chunk.js.map